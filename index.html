<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aplikacja finansowa</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>
  <button id="menu-toggle" onclick="toggleMenu()">â˜° Menu</button>

  <div class="app-container">
    <!-- Menu boczne -->
    <nav id="menu">
      <button onclick="showSection('strona-glowna')">Strona gÅ‚Ã³wna</button>
      <button onclick="showSection('wartosc-netto')">WartoÅ›Ä‡ netto</button>
      <button onclick="showSection('budzet-domowy')">BudÅ¼et domowy</button>
      <button onclick="showSection('fundusz-awaryjny')">Fundusz awaryjny</button>
      <button onclick="showSection('plan-splat')">Plan spÅ‚aty dÅ‚ugÃ³w</button>
      <button onclick="showSection('poduszka')">Poduszka bezpieczeÅ„stwa</button>
      <button class="menu-goals" onclick="showSection('cele-finansowe')">ğŸ¯ Cele finansowe</button>
      <button class="menu-goals" onclick="showSection('notatki')">ğŸ“ Notatki</button>
    </nav>

    <!-- GÅ‚Ã³wna treÅ›Ä‡ -->
    <div class="container">

      <!-- Strona gÅ‚Ã³wna -->
      <div id="strona-glowna" class="section">
        <img src="logo.png" alt="Moje Logo" width="100" />
        <h1>Twoje centrum finansowe</h1>
        <label>
  <input type="checkbox" id="darkModeToggle" />
  Tryb ciemny
</label>

        <div style="margin: 10px 0;">
          <label for="currencySelector"><strong>Waluta:</strong></label>
          <select id="currencySelector">
            <option value="zÅ‚">PLN (zÅ‚)</option>
            <option value="â‚¬">EUR (â‚¬)</option>
            <option value="$">USD ($)</option>
            <option value="Â£">GBP (Â£)</option>
          </select>
        </div>

        <p>Witaj w swojej osobistej aplikacji do zarzÄ…dzania finansami!</p>

        <div class="intro-box">
          <h3>Co moÅ¼esz tutaj zrobiÄ‡?</h3>
          <ul>
            <li>ğŸ’¼ Oblicz <strong>wartoÅ›Ä‡ netto</strong> i monitoruj zmiany majÄ…tku</li>
            <li>ğŸ“Š ZarzÄ…dzaj <strong>budÅ¼etem domowym</strong> â€“ przychody, wydatki, ruchy</li>
            <li>ğŸ›Ÿ Zbuduj <strong>fundusz awaryjny</strong> na nieprzewidziane sytuacje</li>
            <li>ğŸ“‰ StwÃ³rz <strong>plan spÅ‚aty dÅ‚ugÃ³w</strong> i nadpÅ‚acaj skutecznie</li>
            <li>ğŸ§˜â€â™€ï¸ Oblicz <strong>poduszkÄ™ bezpieczeÅ„stwa</strong> â€“ finansowy bufor spokoju</li>
          </ul>
        </div>

        <div class="motivation">
          <p><strong>PamiÄ™taj:</strong> MaÅ‚e, regularne dziaÅ‚ania budujÄ… wielkie zmiany ğŸ’¡</p>
        </div>
      </div>

      <!-- WartoÅ›Ä‡ netto -->
      <div id="wartosc-netto" class="hidden section">
        <h2>WartoÅ›Ä‡ netto</h2>
        <p class="sekcja-opis">
          To rÃ³Å¼nica miÄ™dzy tym, co masz, a tym, co jesteÅ› winien. Pokazuje, gdzie jesteÅ› teraz na swojej finansowej drodze. PorÃ³wnujÄ…c wartoÅ›Ä‡ netto z dzisiaj do tej sprzed kilku miesiÄ™cy, zobaczysz, czy idziesz w dobrym kierunku.<br />
          Nie spiesz siÄ™ â€” kaÅ¼dy maÅ‚y krok to postÄ™p, ktÃ³ry przybliÅ¼a CiÄ™ do stabilnoÅ›ci.
        </p>

        <h3>MajÄ…tek</h3>
        <table id="majatek-table">
          <thead>
            <tr>
              <th>SkÅ‚adnik majÄ…tku</th>
              <th>WartoÅ›Ä‡ (<span class="currency-symbol">zÅ‚</span>)</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <button onclick="addMajatekRow()">Dodaj skÅ‚adnik</button>
        <p>ÅÄ…czna wartoÅ›Ä‡ majÄ…tku: <span id="suma-majatku">0 <span class="currency-symbol">zÅ‚</span></span></p>

        <h3>ZobowiÄ…zania</h3>
        <table id="zobowiazania-table">
          <thead>
            <tr>
              <th>ZobowiÄ…zanie</th>
              <th>Oprocentowanie (%)</th>
              <th>Kwota (<span class="currency-symbol">zÅ‚</span>)</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <button onclick="addZobowiazanieRow()">Dodaj zobowiÄ…zanie</button>
        <p>ÅÄ…czna wartoÅ›Ä‡ zobowiÄ…zaÅ„: <span id="suma-zobowiazan">0 <span class="currency-symbol">zÅ‚</span></span></p>

        <h3>WartoÅ›Ä‡ netto: <span id="wartosc-netto-wynik">0 <span class="currency-symbol">zÅ‚</span></span></h3>
        <p>Pierwsza zapisana wartoÅ›Ä‡ netto: <span id="pierwsza-wartosc-netto">-</span></p>
        <p><span id="roznica-wartosci-netto"></span></p>
      </div>

      <!-- BudÅ¼et domowy -->
      <div id="budzet-domowy" class="hidden section">
        <h2>BudÅ¼et domowy</h2>
        <p class="sekcja-opis">
          Tu zaplanujesz swoje wpÅ‚ywy i wydatki. DziÄ™ki temu Å‚atwiej bÄ™dzie Ci ogarnÄ…Ä‡, na co wydajesz pieniÄ…dze. Dodatkowo, im bardziej szczegÃ³Å‚owo wpisujesz swoje wydatki zrealizowane, tym Å‚atwiej pod koniec miesiÄ…ca znajdziesz â€wydatki na zachciankiâ€ â€” te, z ktÃ³rych moÅ¼na zrezygnowaÄ‡, aby oszczÄ™dzaÄ‡ wiÄ™cej.<br />
          Regularnie sprawdzaj swoje zapiski i staraj siÄ™ wycinaÄ‡ zbÄ™dne wydatki.<br />
          Wiesz, co? To normalne, Å¼e na poczÄ…tku jest trudno â€” waÅ¼ne, Å¼e zaczynasz dziaÅ‚aÄ‡!
        </p>
        <!-- ğŸ”§ Ustawienia budÅ¼etu -->
<div class="ustawienia-budzetu sekcja-opis" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 20px; border-radius: 8px;">
  <h3>ğŸ”§ Ustawienia budÅ¼etu</h3>

  <label for="budzet-start-day">DzieÅ„ rozpoczÄ™cia budÅ¼etu (1â€“31):</label>
  <input type="number" id="budzet-start-day" min="1" max="31" value="1" onchange="zapiszDzienBudzetu()" />

  <br><br>

  <label for="budzet-miesiac-wybor">Wybierz miesiÄ…c budÅ¼etu:</label>
  <select id="budzet-miesiac-wybor" onchange="zmienMiesiacBudzetu()"></select>
  <button id="btnWroc" style="display:none;" onclick="powrotDoAktualnegoBudzetu()">
  WrÃ³Ä‡ do aktualnego budÅ¼etu
</button>

<button onclick="wczytajBudzetHistoryczny()">Wczytaj budÅ¼et z historii</button>
<button id="btn-wroc-do-aktualnego" style="display:none;">PowrÃ³t do aktualnego budÅ¼etu</button>
<button onclick="zapiszZmianyWBudzecieHistorycznym()">Zapisz zmiany</button>

<label style="display:block; margin-top: 10px;">
  <input type="checkbox" id="toggleEditHistory">
  Tryb edycji danych historycznych
</label>

  <p><em>Uwaga: Zakres dat budÅ¼etu zostanie automatycznie obliczony, np. 10 czerwca â€“ 9 lipca.</em></p>
</div>

        <h3>Przychody</h3>
        <table id="przychody-table">
          <thead>
            <tr>
              <th>Å¹rÃ³dÅ‚o</th>
              <th>Kwota (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>Data</th>
              <th>Cykliczne</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <button onclick="addPrzychodRow()">Dodaj przychÃ³d</button>

        <h3>Wydatki planowane</h3>
        <table id="wydatki-planowane-table">
          <thead>
            <tr>
              <th>Kategoria</th>
              <th>Kwota planowana (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>Data</th>
              <th>Cykliczne</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <button onclick="addWydatekPlanowanyRow()">Dodaj kategoriÄ™</button>

        <h3>Wydatki zrealizowane</h3>
        <table id="wydatki-zrealizowane-table">
          <thead>
            <tr>
              <th>Opis</th>
              <th>Kategoria</th>
              <th>Kwota (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>Data</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <button onclick="addWydatekZrealizowanyRow()">Dodaj wydatek</button>

        <h3>PorÃ³wnanie wydatkÃ³w</h3>
        <table id="analiza-wydatkow-table">
          <thead>
            <tr>
              <th>Kategoria</th>
              <th>Planowane (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>Zrealizowane (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>RÃ³Å¼nica (<span class="currency-symbol">zÅ‚</span>)</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <!-- Fundusz awaryjny -->
      <div id="fundusz-awaryjny" class="hidden section">
        <h2>Fundusz awaryjny</h2>
        <p class="sekcja-opis">
          To odÅ‚oÅ¼one pieniÄ…dze na nieprzewidziane wydatki, takie jak awaria samochodu czy sprzÄ™tu domowego. NajczÄ™Å›ciej rekomenduje siÄ™ kwotÄ™ okoÅ‚o 2000â€“3000 <span class="currency-symbol">zÅ‚</span>, ktÃ³ra pozwoli Ci spokojnie przejÅ›Ä‡ przez trudne sytuacje, bez potrzeby zaciÄ…gania kolejnych dÅ‚ugÃ³w.<br />
          Buduj ten fundusz we wÅ‚asnym tempie â€” moÅ¼e to potrwaÄ‡ kilka miesiÄ™cy i to zupeÅ‚nie normalne.<br />
          KaÅ¼da zaoszczÄ™dzona zÅ‚otÃ³wka to krok w stronÄ™ finansowego bezpieczeÅ„stwa â€” idÅº do przodu bez poÅ›piechu!
        </p>

        <label for="fundusz-cel">Kwota docelowa (<span class="currency-symbol">zÅ‚</span>):</label>
        <input type="number" id="fundusz-cel" oninput="aktualizujPasekFundusz()" />

        <label for="fundusz-obecnie">Kwota odÅ‚oÅ¼ona (<span class="currency-symbol">zÅ‚</span>):</label>
        <input type="number" id="fundusz-obecnie" oninput="aktualizujPasekFundusz()" />

        <div class="pasek-postepu" id="pasek-awaryjny">
          <div class="postep"></div>
        </div>
      </div>

      <!-- Plan spÅ‚aty dÅ‚ugÃ³w -->
      <div id="plan-splat" class="hidden section">
        <h2>Plan spÅ‚aty dÅ‚ugÃ³w</h2>
        <p class="sekcja-opis">
          Tu uÅ‚oÅ¼ysz plan spÅ‚acania swoich zobowiÄ…zaÅ„. Zacznij od tych najmniejszych i stopniowo przechodÅº do wiÄ™kszych, korzystajÄ…c z efektu Å›nieÅ¼nej kuli. DziÄ™ki temu z kaÅ¼dym spÅ‚aconym dÅ‚ugiem poczujesz siÄ™ lÅ¼ej.<br />
          KaÅ¼da spÅ‚acona zÅ‚otÃ³wka to TwÃ³j maÅ‚y sukces â€” Å›wiÄ™tuj je!
        </p>

        <table id="tabela-splat">
          <thead>
            <tr>
              <th>ZobowiÄ…zanie</th>
              <th>Kwota (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>NadpÅ‚ata (<span class="currency-symbol">zÅ‚</span>)</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <p>ÅÄ…czna kwota do spÅ‚aty: <span id="suma-splat">0 <span class="currency-symbol">zÅ‚</span></span></p>
      </div>

      <!-- Poduszka bezpieczeÅ„stwa -->
      <div id="poduszka" class="hidden section">
        <h2>Poduszka bezpieczeÅ„stwa</h2>
        <p class="sekcja-opis">
          Gdy juÅ¼ uporasz siÄ™ z dÅ‚ugami, pomyÅ›l o zabezpieczeniu pieniÄ™dzy na minimum 3 miesiÄ…ce bez dochodu (idealnie 6). To Å›rodki, ktÃ³re pozwolÄ… Ci spokojnie przetrwaÄ‡ trudne chwile, jak utrata pracy czy awarie.<br />
          Nie inwestuj ich w ryzykowne rzeczy, trzymaj pod rÄ™kÄ….<br />
          To TwÃ³j finansowy spokÃ³j â€” zasÅ‚ugujesz na to, by czuÄ‡ siÄ™ bezpiecznie.
        </p>

        <label for="poduszka-miesiace">Wybierz wariant:</label>
        <select id="poduszka-miesiace" onchange="aktualizujPoduszke()">
          <option value="3">3 miesiÄ…ce</option>
          <option value="6">6 miesiÄ™cy</option>
          <option value="12">12 miesiÄ™cy</option>
        </select>

        <label for="poduszka-cel">Kwota docelowa (<span class="currency-symbol">zÅ‚</span>):</label>
        <input type="number" id="poduszka-cel" readonly />

        <label for="poduszka-obecnie">Kwota odÅ‚oÅ¼ona (<span class="currency-symbol">zÅ‚</span>):</label>
        <input type="number" id="poduszka-obecnie" oninput="aktualizujPoduszke()" />

        <div class="pasek-postepu" id="pasek-poduszka">
          <div class="postep"></div>
        </div>
      </div>
 <section id="cele-finansowe" class="hidden section">
  <h2>Cele finansowe</h2>
 <button id="dodajCelBtn" onclick="toggleForm()">â• Dodaj nowy cel</button>

<div id="formularz-celu" class="hidden" style="margin-top: 15px;">
  <input type="text" id="cel-nazwa" placeholder="Nazwa celu" />
  <input type="number" id="cel-kwota-obecna" placeholder="Kwota obecna" />
  <input type="number" id="cel-kwota-docelowa" placeholder="Kwota docelowa" />
  <input type="date" id="cel-termin" />
  <select id="cel-priorytet">
    <option value="wysoki">Wysoki priorytet</option>
    <option value="sredni">Åšredni priorytet</option>
    <option value="niski">Niski priorytet</option>
  </select>
  <button onclick="dodajCel()">ğŸ’¾ Zapisz cel</button>
  <button id="zapiszZmianyBtn" onclick="zapiszZmianyCelu()" class="hidden">Zapisz zmiany</button>

</div>

  <table id="celeTable">
    <thead>
      <tr>
        <th>Nazwa</th>
        <th>Kwota</th>
        <th>Termin</th>
        <th>PostÄ™p</th>
        <th>Akcje</th>
      </tr>
    </thead>
    <tbody>
      <tr class="priorytet-wysoki">
        <td>Åšlub syna</td>
        <td>9 800 / 20 000 zÅ‚</td>
        <td>18.11.2025</td>
        <td>
          <div class="pasek-postepu">
            <div class="postep" style="width:49%"></div>
          </div>
        </td>
      </tr>
      <tr class="priorytet-sredni">
        <td>OpaÅ‚ na zimÄ™</td>
        <td>2 000 / 5 000 zÅ‚</td>
        <td>listopad 2025</td>
        <td>
          <div class="pasek-postepu">
            <div class="postep" style="width:40%"></div>
          </div>
        </td>
      </tr>
      <tr class="priorytet-niski">
        <td>Wakacje marzeÅ„</td>
        <td>2 000 / 10 000 zÅ‚</td>
        <td></td>
        <td>
          <div class="pasek-postepu">
            <div class="postep" style="width:20%"></div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</section>
<section id="notatki" class="hidden section">
  <h2>Notatki i przemyÅ›lenia</h2>
  <div id="lista-notatek"></div>

  <div class="nowa-notatka">
    <textarea id="nowa-notatka" rows="5" placeholder="Wpisz nowÄ… notatkÄ™..."></textarea>
    <button id="dodajNotatkeBtn">Dodaj notatkÄ™</button>
  </div>
</section>

    </div> <!-- .container -->
  </div> <!-- .app-container -->

  <!-- Skrypt -->
  <script src="script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('./service-worker.js')
          .then(function (registration) {
            console.log('Service Worker zarejestrowany z zakresem:', registration.scope);
          })
          .catch(function (error) {
            console.log('BÅ‚Ä…d rejestracji Service Workera:', error);
          });
      });
    }
  </script>
</body>
</html>